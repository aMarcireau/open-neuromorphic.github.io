{{ $currentPage := . }}
{{/* Define the paths to the governance pages */}}
{{ $paths := slice
  "/about/governance/"
  "/about/governance/organisational-charter/"
  "/about/governance/fellowship-charter/"
  "/about/governance/open-definition/"
  "/about/governance/submission-instructions/"
  "/about/governance/initiative-template/"
}}

{{/* Governance Guide Card */}}
<div class="px-3 pt-5 pb-5 content-panel mb-6">
  <strong class="text-xl pl-3">Governance Guide</strong>
  <nav id="TableOfContents" class="mt-4">
    <ul>
      {{ range $paths }}
        {{ with site.GetPage . }}
          {{ $isActive := eq ($currentPage.RelPermalink | strings.TrimRight "/") (strings.TrimRight .RelPermalink "/") }}
          <li class="{{ if $isActive }}active{{ end }}">
            <a href="{{ .RelPermalink }}">{{ .Title }}</a>
          </li>
        {{ end }}
      {{ end }}
    </ul>
  </nav>
</div>

{{/* On This Page (Table of Contents) Card */}}
{{ if and .IsPage .Params.showTableOfContents (ne .TableOfContents `<nav id="TableOfContents"></nav>`) }}
<div class="sticky top-24 px-3 pt-5 pb-5 content-panel">
  <strong class="text-xl pl-3">On This Page</strong>
  <div id="tableOfContentContainer" class="mt-4">
    {{ .TableOfContents }}
  </div>
</div>
{{ end }}
